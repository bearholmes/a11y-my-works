# Git 커밋 및 PR 컨벤션 가이드

이 문서는 프로젝트에서 사용하는 Git 커밋과 Pull Request(PR) 작성 규칙을 정의합니다. 일관된 컨벤션을 통해 코드베이스의 가독성과 유지보수성을 높이는 것이 목적입니다.

## 커밋 메시지 컨벤션

본 프로젝트는 [Conventional Commits](https://www.conventionalcommits.org/) 규칙을 기반으로 커밋 메시지를 작성합니다.

### 기본 구조

```
<type>(<optional scope>): <description>

<optional body>

<optional footer>
```

### Type 정의

커밋 타입은 변경 사항의 성격을 나타냅니다:

| 타입 | 설명 |
|------|------|
| `feat` | 새로운 기능 추가 |
| `fix` | 버그 수정 |
| `docs` | 문서 변경 |
| `style` | 코드 스타일 변경 (포매팅, 세미콜론 누락 등, 코드 변경 없음) |
| `refactor` | 코드 리팩토링 (기능 변경 없음) |
| `perf` | 성능 개선 |
| `test` | 테스트 추가 또는 수정 |
| `chore` | 빌드 프로세스, 도구, 라이브러리 등 변경 (코드 변경 없음) |
| `ci` | CI/CD 관련 변경 |
| `build` | 빌드 시스템 또는 외부 종속성 관련 변경 |
| `revert` | 이전 커밋 되돌리기 |

### Scope 정의

필요한 경우 커밋의 영향 범위를 괄호 안에 지정합니다:

- `be`: 백엔드
- `fe`: 프론트엔드
- `db`: 데이터베이스
- `auth`: 인증/인가
- `ui`: 사용자 인터페이스
- `api`: API 관련
- `config`: 구성 파일
- `docs`: 문서

### Description 작성 규칙

- 명령형 현재 시제 사용 (ex: "Add feature" 또는 "Fix bug", "변경함" 대신 "변경")
- 첫 글자는 소문자 사용
- 끝에 마침표(.) 사용 금지
- 한글 사용 시 명사형으로 종결 (ex: "사용자 인증 기능 추가")

### Body 작성 규칙

- 커밋의 상세 내용을 기술
- 여러 줄로 작성 가능
- "무엇을" 변경했는지보다 "왜" 변경했는지 설명

### Footer 작성 규칙

- Breaking Changes가 있는 경우 반드시 명시
- 관련 이슈 참조 (ex: "Fixes #123", "Relates to #456")

### 커밋 메시지 예시

```
feat(auth): 소셜 로그인 기능 추가

카카오와 구글 로그인 통합으로 사용자 편의성 향상
OAuth 2.0 프로토콜 사용하여 인증 프로세스 구현

Resolves: #123
```

```
fix(be): JWT 토큰 검증 오류 수정

만료된 토큰에 대한 처리 로직 개선
예외 처리 추가로 서버 안정성 향상

Fixes: #456
```

```
chore(deps): 종속성 패키지 업데이트

React 18.2.0 -> 19.0.0
Fastify 4.15.0 -> 4.25.1
```

### Breaking Changes 예시

```
feat(api): 사용자 인증 API v2 구현

OAuth 기반 인증으로 전체 인증 시스템 재설계

BREAKING CHANGE: 기존 v1 인증 API는 더 이상 지원되지 않습니다.
인증 토큰 형식이 변경되어 클라이언트 업데이트가 필요합니다.
```

## Pull Request(PR) 컨벤션

### PR 제목 형식

```
[<type>/<scope>] <간략한 설명> (#이슈번호)
```

예시:
- `[feat/auth] 소셜 로그인 구현 (#123)`
- `[fix/be] 메모리 누수 문제 해결 (#456)`

### PR 본문 작성 요령

#### 필수 항목:

1. **변경 내용 요약**
   - 간략하게 무엇을 변경했는지 설명

2. **변경 이유**
   - 왜 이 변경이 필요한지 설명
   - 해결하려는 문제 또는 추가하려는 가치 설명

3. **구현 방법**
   - 어떻게 문제를 해결했는지 간략히 설명
   - 채택한 접근 방식과 대안 검토 내용

4. **테스트 방법**
   - 변경 사항을 어떻게 테스트했는지 설명
   - 수동 테스트 단계 또는 자동화 테스트 참조

#### 선택 항목:

5. **스크린샷/동영상**
   - UI 변경이 있는 경우 추가

6. **성능 영향**
   - 성능에 중요한 영향이 있는 경우 설명

7. **기술 부채**
   - 향후 리팩토링이 필요한 부분이 있다면 명시

### PR 템플릿

```markdown
## 변경 내용 요약
<!-- 변경 사항에 대한 간략한 설명 -->

## 변경 이유
<!-- 왜 이 변경이 필요한지 설명 -->

## 구현 방법
<!-- 어떻게 문제를 해결했는지 간략히 설명 -->

## 테스트 방법
<!-- 변경 사항을 어떻게 테스트했는지 설명 -->

## 스크린샷/동영상 (선택 사항)
<!-- UI 변경이 있는 경우 추가 -->

## 성능 영향 (선택 사항)
<!-- 성능에 중요한 영향이 있는 경우 설명 -->

## 기술 부채 (선택 사항)
<!-- 향후 리팩토링이 필요한 부분이 있다면 명시 -->

## 관련 이슈
<!-- 연결된 이슈 참조 (ex: "Fixes #123", "Related to #456") -->
```

## 브랜치 전략

### 브랜치 명명 규칙

```
<type>/<scope>/<short-description>
```

예시:
- `feat/auth/social-login`
- `fix/be/memory-leak`
- `refactor/fe/user-component`

### 주요 브랜치

- `main`: 프로덕션 환경에 배포되는 안정적인 코드
- `develop`: 개발 브랜치, 다음 릴리스를 위한 통합 지점
- `feature/*`: 새로운 기능 개발
- `bugfix/*`: 버그 수정
- `hotfix/*`: 긴급 수정 사항 (프로덕션 이슈)
- `release/*`: 릴리스 준비

## 코드 리뷰 가이드라인

### 리뷰어 역할

- 코드의 품질, 가독성, 성능 검토
- 비즈니스 요구사항 충족 여부 확인
- 테스트 코드 적절성 확인
- 기술적 부채 발생 가능성 평가

### 리뷰 요청자 역할

- PR 설명을 통해 충분한 컨텍스트 제공
- 코드 변경이 큰 경우 리뷰어를 위한 가이드 제공
- 리뷰 의견에 적시에 응답

### 리뷰 언어 가이드

- 코드, 아이디어에 대한 비판이지 사람에 대한 비판이 아님을 명심
- 제안형 표현 사용 ("이렇게 바꾸는 건 어떨까요?")
- 칭찬과 감사 표현 활용
- 질문을 통한 의견 전달 ("이 부분의 의도는 무엇인가요?")

## 자동화 도구

- **CommitLint**: 커밋 메시지 검증
- **Husky**: Git 훅을 통한 자동 린팅 및 테스트
- **GitHub Actions/Jenkins**: CI/CD 및 자동 테스트

## 참고 자료

- [Conventional Commits](https://www.conventionalcommits.org/)
- [Angular Commit Convention](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit)
- [Semantic Versioning](https://semver.org/)
